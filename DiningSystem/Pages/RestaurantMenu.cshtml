

@page "{id}"
@model DiningSystem.Pages.RestaurantMenuModel
@{
@using DiningSystem.Models
    @using Microsoft.AspNetCore.Identity
    @inject UserManager<ApplicationUser> UserManager

    @inject SignInManager<ApplicationUser> SignInManager
}




<div class="wrap">

@foreach(var item in Model.listMenu)
{
   
    <div class="box">
        <div class="box-top">
            <img class="box-image" src="/css/images/slide1.jpg" alt="Girl Eating Pizza">
            <div class="title-flex">
                <h3 class="box-title">@item.menu_item</h3>
                <p class="user-follow-info">@item.Id</p>
            </div>
            <p class="description">@item.menu_description</p>
                <p class="description">Rs. @item.menu_item_price</p>
        </div>
            @if (!UserManager.IsInRoleAsync(UserManager.GetUserAsync(User).Result, "Admin").Result)
            {
                <form method="post" asp-page-handler="AddToCart">
                    <input type="hidden" name="productId" value="@item.Id" />
                    <button type="submit" class="btn btn-primary">Add to Cart</button>
                </form>
            }  
    </div>
 
}
</div>

@if(!string.IsNullOrEmpty(ViewData["Message"] as string))
{
    <div>@ViewData["Message"]</div>
}

else
{
    <div>@ViewData["Message"]</div>
}



